<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="./assets/css/style.css">
    <title>E-Library | Books</title>
</head>
<body>

    <header></header>

   <section id="spinner"></section>
    
    <section class="container my-5" >
        <div id="books"></div>
        <div id="pagination"></div>
    </section>

    
    <footer></footer>


        <script>
        setTimeout(function () {
        document.getElementById("spinner").style.display = "none";
        }, 5000);
        </script>
      <script type="module">
        import {initHeader} from "./components/NavbarAndFooter/Header.js";
        import {initFooter} from "./components/NavbarAndFooter/Footer.js";
        import {Pagination,updateBooks} from './components/Books/Pagination.js';
        import {getBooks} from "./components/Books/Books.js";
        import {Spinner} from './components/Spinner.js';

        initHeader(document.querySelector("header"));
        Spinner(document.querySelector("#spinner"))

        // getBooks().then(data => {
        //     document.querySelector('#books').innerHTML = composeBooks(data.books,2);
        //     // let l = (data.books.length / 5);
        //     // console.log(l);
        //     // totalPages = l;
            
        // })
        
        //getBooks().then(data => console.log(data.books))
        
        
        getBooks().then(data => {
        const totalPages = Math.ceil(data.results.length / 6);
        Pagination(document.querySelector("#pagination"),totalPages);
        });
        updateBooks();
        initFooter(document.querySelector("footer"));
</script>


      <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
</body>
</html>